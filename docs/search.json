[
  {
    "objectID": "data-sources.html",
    "href": "data-sources.html",
    "title": "Data Sources",
    "section": "",
    "text": "To better understand Magic the Gathering secondary market as a proxy for Hasbro’s financial performance, this project draws data from multiple sources: historic Magic the Gathering product data, weekly market prices from TCGPlayer, the largest online secondary market, and Hasbro’s stock performance.\n\nMagic the Gathering Product Data\nWith 30 years worth of products released in a variety of formats, the first step in better understanding the Magic the Gathering landscape is to depict how the product releases have changed over time. Scraped from the Wikipedia listing for Magic the Gathering, this dataset includes the release date for each product, and the product category it falls into. For Booster Boxes, the primary product type, additional data is merged from card database Scryfall as to how many cards were included in a given product. As a brief introduction to how Magic has changed over time, we can see the total number of cards released each year in the primary product format, Booster Boxes.\n\n\n\n\n\nAs this plot depicts, there has been a rapid escalation in the sheer volume of cards hitting shelves in local gamestores across the country. It is worth noting that these figures do not represent only new printings of cards, but the total number of cards in a given product, including new designs, reprinted cards from previous sets, deluxe versions of cards, or cards with alternative art or styles. It also does not take into account cards printed in myriad of other product types. Even so, the trend in how Magic the Gathering products have changed over the last thirty years becomes apparent.\n\n\nTCGPlayer\nAs one of the largest online marketplaces for trading card game products, TCGPlayer is an authoritative source on the performance of a given card or product when it is bought or sold by players and stores on the open secondary market.\nWhile TCGPlayer has an API available, it is currently closed to new users while the development team rebuilds the tool from the ground up. To make accessing market data more complicated, the pricing data is presented to the users on each product page as a dynamically generated image, meaning the underlying data is inaccessible.\nAs such, data for the current and historic market price for products needed to be manually gathered and combined. Because of the time intensive nature of this task, this analysis is limited to sealed booster boxes released in 2022. The dataset includes the weekly average price for each product and other features of the product, such as the name of the product, which set of cards it contains, and the type of product it is.\nAs a cursory glance at how the market value for magic the Gathering products has changed over the last year, we consider the average price of Booster Box products based on the type of product. In each case, 2022 saw a year of volatile growth in the first half of the year, followed by a period of stagnation and decreasing market value. These products are further segmented by the set of cards released and examined more closely on the Data Visualization page.\n\n\n\n\n\n\n\nHasbro Stock Prices\nTo determine how Magic the Gathering influences Hasbro’s performance, the above data will be compared to the changes in stock prices and valuation metrics for Hasbro over the last months.\nThis data is collected through Yahoo! finance. A further exploration of Hasbro’s stock price is included on the Exploratory Data Analysis page."
  },
  {
    "objectID": "deep-learning.html",
    "href": "deep-learning.html",
    "title": "Deep Learning",
    "section": "",
    "text": "Since our multivariate analysis using Magic: the Gathering cards to model Hasbro’s stock pirce is constrained by a lack of daily data, we return to consider how well we can predict the stock price. In this iteration, however, we investigate the effectiveness of three neural network implementations to see if more sophisticated modeling techniques can improve results from our original ARMA model.\nAs with most machine learning techniques, there is a trade-off between interpretability and predictive power. In this case, we consider whether the more complicated neural nets outperform our simpler models enough to warrant their use. Given the goal of predicting a stock price, there is less prioritization given to being able to explain the model and a higher focus on its output.\nBefore diving into the modeling techniques, we once again review the Hasbro stock price over the last several years. Even in viewing a scaled version of the data, we can clearly observe the market collapse in early 2020 due to the COVID-19 pandemic as well as the tumultuous performance of the stock across 2022, as previously explored. We also denote the training data (blue) and test data (red) that will be used in building and evaluating the neural networks."
  },
  {
    "objectID": "models.html",
    "href": "models.html",
    "title": "ARMA/ARIMA/SARIMA Models",
    "section": "",
    "text": "Having established the rise and fall of Hasbro’s stock price over recent years, our attention now turns to how well the stock’s performance can be modeled and forecast based on only its past values. We first re-evaluate the stationarity of the data before building and evaluating potential models.\n\nRevisiting Stationarity\nFrom the analysis conducted during the exploratory stage, Hasbro’s stock data has been first-order differenced into a weakly stationary dataset. To confirm this transformation, we consider the ACF plot and Augmented Dickey-Fuller Test results for the differenced time series.\n\n\n\n\n\n\n\n\n\n\n\nDickey-Fuller\n-9.55\n\n\n\n\nLag order\n10\n\n\np-value\n>0.01\n\n\nAlternative Hypothesis\nstationary\n\n\n\nWith a p-value that is statistically significant with a 99% confidence interval, we can proceed under the assumption that the first order difference data is now at least weakly stationary.\n\n\nDetermining Model Parameters\nTo implement an ARIMA model for predicting time series values, we’ll need to determine how many lags of the stock’s price and how many of the lagged errors to include in the model. These features will reduce the correlation inherent when working with time series data, where each data point is related to or even determined by the former data point. Our stock price certainly fits this definition, where one day’s closing price is often very informative of the next day’s closing price. This reality is particularly true for Hasbro’s price which, while volatile at times, does not move in such drastic price changes as some higher profile stocks.\nWhen evaluating how many past values we should take into account, we consider the PACF plot of the original dataset and use the lags that are statistically significant as potential parameters for the value of p in the ARIMA model.\n\n\n\n\n\nFrom the PACF plot of the first-order difference of Hasbro’s stock prices, we see that none of the lags are statistically significant. The first lag seems to be the closest within the first handful of results and thus will be considered in the model, along with 0.\nWhen looking at how many instances of past forecast errors to include in the model, we use the ACF plot and consider the points that are statistically significant.\n\n\n\n\n\nIn the ACF plot of the first-order difference data, we see the first lag is the only statistically significant option, but that the second lag is perhaps worth considering in addition to 0.\n\n\nARIMA Model Tuning\nWith initial parameters selected, we begin building models for each combination of parameters. We’ll then use a number of diagnostic values to determine which model to use in forecasting.\n\n\n\n\n\n\np\nd\nq\nAIC\nBIC\nAICc\n\n\n\n\n0\n1\n0\n4058.619\n4063.534\n4058.623\n\n\n0\n1\n1\n4058.285\n4068.114\n4058.297\n\n\n0\n1\n2\n4060.160\n4074.905\n4060.184\n\n\n1\n1\n0\n4058.241\n4068.070\n4058.253\n\n\n1\n1\n1\n4060.197\n4074.941\n4060.221\n\n\n1\n1\n2\n4062.173\n4081.832\n4062.213\n\n\n\nFrom considering the AIC and BIC values, two model evaluation measures we seek to minimize, it seems the simplest models perform the best. The model that considers only the differenced data (p=0, d=1, q=0), essentially making it a random walk model, provides the minimum BIC, while the model that considers the differenced data with a single lag term (p=1, d=1, q=0) provides the minimum AIC with a slightly higher BIC. Given that both of these models make a logical sense based on the use of financial data, we will proceed in comparing them with further diagnostic analysis.\n\n\n\n\n\n\n\n\n\n\nThe diagnostics of the two models are largely the same, as to be expected with their similar AIC and BIC scores. In both, the standardized residuals are largely static and within the same range, with the same dramatic outliers that represent volatile movements in Hasbro’s stock price, such as the impact of COVID-19 and other events. The ACF of the residuals is entirely insignificant. The Q-Q plot of the residuals shows a strong linear patterns with a few extreme outliers at the edges, again representative of the days where large price swings occurred. The p-values of the Ljung-Box statistics, however, are where the models begin to differ, with the second model’s p-values being generally a bit higher, which is desirable in this case. Even so, the first model remains preferable for being the simpler of the two models, since it suggests that just by differencing the data to the first order, we have sufficiently removed the autocorrelation in the time series and thus it may not be necessary to include a lag value at all.\n\n\nAuto-Arima\n\n\n\n\n\n\nAuto-ARIMA Results\nAIC\nBIC\n\n\n\n\nARIMA(0,1,0)\n4058.62\n4063.53\n\n\n\nWithout any further parameters provided, the Auto-ARIMA function suggests that the random walk (0,1,0) model is the best fit and returns the same AIC and BIC as the manually tuned models. Though this process does not always optimize a model perfectly, it is a helpful confirmation of our process in this case and affirms the decision to proceed with the random walk model.\nThe model of the equation is thus simply:\n\\[\n𝑋_{𝑖+1} =𝑋_𝑖+ \\epsilon_i\n\\]\n\n\nForecasting\n\n\n\n\n\n\n\n\nThe shortcoming of the simplicity of the model, then, becomes more apparently in the forecasting process, where each prediction appears to simply be sideways movement of the most recent value. The 80% and 95% confidence intervals are often quite broad, suggesting that within the next month, the stock’s price could move somewhere between $55 and $75, a range that’s roughly one-fourth to one-third of the stock’s price over the course of 2022.\n\n\nBenchmark Methods\nWith this rather broad estimation in mind, it is worth considering whether the model can out perform benchmark measures by comparing how well it performs on predicting test data using training data versus how well the mean or naive estimate methods perform in the same context.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMethod\nME\nRMSE\nMAE\nMPE\nMAPE\nMASE\nACF1\n\n\n\n\n(0,1,0) Model\n-0.00676\n1.8207\n1.202\n-0.039\n1.498\n0.999\n0.059\n\n\nMean\n-3.3914\n11.15\n8.97\n-2.03\n11.41\n7.49\n0.98\n\n\nNaive\n-0.0684\n1.8217\n1.203\n-0.0391\n1.499\n1\n0.059\n\n\n\n\n\n\n\n\nBoth the evaluation metrics and plotted forecasting values make it clear that while the model outperforms the mean benchmark (which is inflated by higher values in previous years), it performs almost identically to the naive method benchmark. Given the simplicity of the model, this is not particularly surprising. Without a seasonal component to take into account, the weakly stationary data has a consistent mean and variance, which would in turn lead to a set of predictions that do not vary over the predicted time frame.\n\n\nConclusion\nWe first reestablished the stationarity of the first-order difference of Hasbro’s stock price data. We then used ACF and PACF plots to choose a subset of model parameters. We built a model that used only the differenced data, as it provided the best performance and most intuitive explanation of the data. We then used the model to forecast future stock prices and compared its predictions to benchmark methods. Ultimately, the model proved to perform better than the simple mean method, but only just as well as a naive benchmark method."
  },
  {
    "objectID": "exploratory-data-analysis.html",
    "href": "exploratory-data-analysis.html",
    "title": "Exploratory Data Analysis",
    "section": "",
    "text": "This is the EDA page."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Time Series",
    "section": "",
    "text": "What is a Time Series ?\n\nAny metric that is measured over regular time intervals makes a Time Series.\n\nExample: Weather data, Stock prices, Industry forecasts, etc are some of the common ones.\n\nThe analysis of experimental data that have been observed at different points in time leads to new and unique problems in statistical modeling and inference.\n\nThe obvious correlation introduced by the sampling of adjacent points in time can severely restrict the applicability of the many conventional statistical methods traditionally dependent on the assumption that these adjacent observations are independent and identically distributed."
  },
  {
    "objectID": "spectral-analysis.html",
    "href": "spectral-analysis.html",
    "title": "Spectral Analysis",
    "section": "",
    "text": "This is the Spectral Analysis page."
  },
  {
    "objectID": "financial-ts-models.html",
    "href": "financial-ts-models.html",
    "title": "Financial Time Series Models",
    "section": "",
    "text": "Introduction\nThus far, we’ve explored two models for predicting Hasbro’s stock price. Using an ARMA model, we predicted the daily value of the stock based on previous values. While simple, this method did not provide much of a boost over benchmark methods. We then implemented a more complex ARIMAX model, adding independent variables that we hypothesized would further inform the model’s predictive capabilities. These variables included the S&P500’s performance, Hasbro’s trade volume, and the weekly price of Magic the Gathering products, one of Hasbro’s most profitable and growing product lines. The results showed improvement over the ARIMA model, but still failed to capture all of the volatility reflected in Hasbro’s stock price in a tumultuous year.\n\nTo further compare the ARIMAX model to other options, we pivot back to considering the daily Hasbro stock price and implement a GARCH model to capture the volatility previously not represented by the original ARMA model.\n\n\nRevisiting Hasbro Stock Prices\nWe briefly revisit the plot of Hasbro’s closing stock price over the year for which we have Magic the Gathering secondary market data. We’re reminded of the tumultuous year it represents, with Hasbro’s stock losing roughly one-third of its market value in this window.\nGiven the swing in values and magnitude of the range, we also take the log of the stock price to use for modeling.\n\nHasbro Stock PriceHasbro Stock Price, Logged\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nInvestigating the Returns & Model Residuals\nIn viewing the returns, there is a fairly centered mean around zero. There is also some clustered volatility in November of 2022, precisely the window in which Bank of America published its findings on how Hasbro was negatively impacting the value of Magic the Gathering. Given that the data does not have the appearance of simply Gaussian white noise, there is an opportunity for further modeling to improve the forecasting results.\n\n\n\n\n\nWith this in mind, we recreate the original ARIMA(0,1,0) model from the last time working with daily Hasbro stock prices. We then extract the residuals, or the remaining unexplained variance, and model only the residuals using a GARCH model. To determine the parameters of the GARCH model, we evaluate the squared residuals using the same PACF and ACF techniques as before.\n\n\n\n\nACF of Squared ReturnsPACF of Squared Returns\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nGARCH Model\nFrom viewing the ACF and PACF of the squared residuals, it’s clear in both instances that the first few lags remain correlated at a statistically significant level. This suggests that a GARCH model will be most helpful, with parameters somewhere between 1 and 3. We iteratively loop through each combination to find the optimal values. After testing for models that minimize AIC, we note that GARCH(1,1) is both the simplest and most effective option.\n\n\n\n\nModel Estimates and Error Analysis\n\n\n\n\nEstimate\nStd. Error\nT-value\np-value\n\n\n\n\nmu\n-0.0015\n0.0013\n-1.611\n0.2457\n\n\nomega\n0.0001\n0.0000\n2.194\n0.0283\n\n\nalpha1\n0.1768\n0.0782\n2.147\n0.0318\n\n\nbeta1\n0.4599\n0.2027\n2.269\n0.0233\n\n\n\nAfter testing the GARCH(1,1) model against other options with slightly worse AIC values, the former does indeed seem most suited for estimating the remaining residuals. We observe that the GARCH(1,1) model performs best, with all three coefficients reported as statistically significant with a p-value of 0.05.\n\n\nStandardized Residuals Tests\n\n\n\n\n\n\nStatistic\np-Value\n\n\n\n\nJarque-Bera Test\nR\nChi^2\n2.732\n0.2551\n\n\nShapiro-Wilk Test\nR\nW\n0.993\n0.3973\n\n\nLjung-Box Test\nR\nQ(10)\n7.701\n0.6579\n\n\nLjung-Box Test\nR\nQ(15)\n10.62\n0.7789\n\n\nLjung-Box Test\nR\nQ(20)\n13.05\n0.8747\n\n\nLjung-Box Test\nR^2\nQ(10)\n8.753\n0.5729\n\n\nLjung-Box Test\nR^2\nQ(15)\n10.13\n0.8111\n\n\nLjung-Box Test\nR^2\nQ(20)\n24.54\n0.2195\n\n\nLM Arch Test\nR\nTR^2\n7.667\n0.8105\n\n\n\nWe also observe that the Ljung-Box Test reports non-significant p-values for each value. This is what we would hope to see given that the null hypothesis of the Ljung-Box Test is that the model does not show a lack of fit. We cannot reject this null hypothesis and thus proceed with the chosen model.\n\n\n\nFinal Model & Equation\nBuilding on the original random walk model previously established, this process has shown that adding a GARCH model of the remaining residuals better captures the trends within the time series. The final model is thus an ARIMA(0,1,0) + GARCH(1,1).This model can also be written mathematically as:\n\\(\\phi(B) x_t = \\delta + \\theta(B) y_t\\),\nwhere \\(\\phi(B)= 1\\); and \\(\\theta(B)= 1\\); and \\(\\delta = -0.0015\\)\n\\(y_t=\\sigma_t \\epsilon_t\\)\n\\(\\sigma ^2 = 0.0001 + 0.1768(y_{t-1})^2 + 0.4599 \\sigma_{t-1}^2\\)"
  },
  {
    "objectID": "conclusions.html",
    "href": "conclusions.html",
    "title": "Conclusions",
    "section": "",
    "text": "This project sought to answer a number of questions, but at their core, all pointed towards one particular curiosity — Can Magic: The Gathering Cards Predict Hasbro’s Stock Price?\nIn pursuit of an answer, this project used exploratory data analysis to establish the connection between Magic cards and Hasbro’s stock, built several time series models for evaluating and forecasting Hasbro’s stock prices, and considered deep learning techniques for building upon these initial efforts.\nUltimately, this analysis is too narrow in scope to answer this question sufficiently. One result that is apparent, however, is that if Magic: the Gathering Cards can predict Hasbro’s stock price, it is through a more complicated model or set of mechanisms than are presented here in this small scope.\nAlong the way to this conclusion, several data constraints or other obstacles introduced limitations to the results. These challenges are worth further exploring and present a set of meaningful lessons and in and of themselves.\n\n\n\n\nData Constraints\n\n\n\nFor how many collectors and players follow the Magic: the Gathering secondary market, accurate and up to date data can be surprisingly difficult to gather. TCGPlayer, the largest online market for Magic cards, has an API through which card and sealed product prices is made available and updated daily, but the API was closed, with only pre-existing third-party companies maintaining legacy access.\n\n\nFindings"
  },
  {
    "objectID": "introduction.html",
    "href": "introduction.html",
    "title": "Introduction",
    "section": "",
    "text": "Hasbro’s stock has fallen sharply in recent months after mainstream news outlets accused the company of killing their “golden goose” by overproducing and overcharging for Magic the Gathering products. Fans of Magic the Gathering, however, had expressed these same frustrations for months before journalists and news pundits caught on. Is it possible that by analyzing the secondary market for Magic products, investors could have predicted this downturn sooner?\n\n\n\n\n\n\nHasbro\nHasbro is a United States-based, multinational conglomerate that owns the trademarks for a number of prominent toy and entertainment subsidiaries such as Milton Bradley, Tonka, Playskool, Parker Brothers and others. Their range of toy, game, and entertainment products include Nerf, G.I. Joe, Power Rangers, Monopoly, My Little Pony, and dozens of other brands. Chief among Hasbro’s subsidiaries is Wizards of the Coast, the company responsible for the Dungeons & Dragons and Magic the Gathering brands. This project analyzes the Magic the Gathering trading card game as a proxy to better understand and potentially forecast Hasbro’s financial performance.\n\n\n\n\n\n\n\nMagic the Gathering\nMagic the Gathering is a trading card game in which two or more players utilize their custom-tailored deck of cards that represent spells and creatures to battle one another. The game was first released by Wizards of the Coast in 1993 and was the first trading card game of its kind, soon to be followed by similar games like Pokemon and Yu-gi-oh. As of April 2022, the game had approximately 35 million players. Between 2008 and 2016, when the game saw an explosive growth in popularity, more than twenty billion Magic cards were manufactured. As of January 2023, there are more than 25,650 unique Magic cards.\nMagic the Gathering is a valuable tool for thinking about Hasbro’s value in three ways. First, Wizards of the Coast (WOTC) has become an increasingly important subsidiary to its parent company. While other subsidiaries are losing money, Hasbro’s reported record growth from Wizards of the Coast. Second, because Magic the Gathering is a competitive trading card game, there is an open market where cards purchased from WOTC are sold by consumers. This secondary market helps explain Magic’s performance in more precise financial outcomes. Finally, Hasbro has been in the financial news lately due to some questionable Magic the Gathering product decisions made in the last year, so it is a both timely and relevant consideration.\n\n\nProject Overview\nMore specifically, this project leverages product pricing data on the secondary market to better understand and potentially forecast the performance of the brand and its parent company, Hasbro.\nSince this endeavor is fairly open-ended, ten questions will guide the analysis:\n\nHow has Hasbro’s stock changed over time?\nWhat management and product decisions have influence Hasbro’s stock price in recent years?\nHow did the COVID-19 pandemic affect Hasbro’s stock price and consumer behavior?\nHow much of Hasbro’s success depends on Wizards of the Coast and its brands?\nHow have Magic the Gathering product offerings changed over time?\nHow have Magic the Gathering sealed products on the secondary market changed in price over time?\nIs there a seasonal component to Hasbro’s stock based on the release of Magic the Gathering products?\nIs there a seasonal component to Magic the Gathering’s products secondary market behavior?\nIs there a correlation between Magic the Gathering product performance and Hasbro stock price changes?\nDoes using data about Magic the Gathering’s secondary market impact our ability to forecast Hasbro’s stock value?"
  },
  {
    "objectID": "data-visualization.html",
    "href": "data-visualization.html",
    "title": "Data Visualization",
    "section": "",
    "text": "To examine how Magic’s secondary market might influence Hasbro’s stock prices, we first set the stage with a brief summary of recent events.\n\nMagic the Gathering in 2022\n2022, Magic the Gathering’s 30th anniversary, started on a strong note. In Hasbro’s earnings report for Q4 2021, subsidiary Wizards of the Coast announced that 2021 had been a record-breaking year in revenue for Magic, topping 2020, the previous high-water mark. In Q1 2022, Wizards released a new Magic the Gathering set, Kamigawa: Neon Dynasty. This set would go on to be the best selling winter release of all time, the fifth Magic product to generate more than $100 million in revenue, and one of the three best-selling Magic products of all time, according to Hasbro’s Q1 2022 report.\n\n\n\n\n\nIn the earnings call that accompanied this report, Wizards’ president Cynthia Williams announced an 11% price increase on all major Magic the Gathering products, citing rising costs in production and supply chain challenges. This price change would not go into affect until the summer, but its looming presence was felt throughout the market throughout the year. To add to the chilling effect, the next two set releases were not nearly as well received as Neon Dynasty. From a combination of sub par design choices and mismanaged marketing campaigns, both the spring and summer products were largely panned by the Magic the Gathering community.\nThe summer was not a total failure for Wizards, however, thanks to the release of Double Masters, an expensive, premium product that included a number of highly sought-after cards. The second half of 2022 saw an even more aggressive release schedule, with a major product release each month for the last four months of the year. While concrete performance data on these products has not been made available at the time of writing, the general sense is that of the four, only two of them were widely embraced by the Magic community.\nThis condensed timeline doesn’t include the dozens of non-premier product releases - exclusive print to demand offerings, pre-constructed decks for various game formats such as Commander, Non-Booster products like starter decks, gift sets, cross-over events with franchises like Warhammer 40k and Fortnite and more. But there is one non-premier product that caused more controversy than all of these combined.\n\nIn November, Wizards released the Magic 30th Anniversary set, a $999 product that included four packs of some of Magic’s most rare and famous cards. These cards were printed in an alternative format that made them not legal for tournament play, making them exclusively collectors items. Many of the 30th Anniversary cards were reprints from Magic’s “Reserve List,” a subset of decades-old cards. The Reserve List was a promise made by Wizards, assuring collectors they would not reprint those cards, keeping the original cards secondary market value intact. This 30th Anniversary product, both by its predatory price and perception as breaking the Reserve List, infuriated fans. Online communities called for boycotts of Magic and Wizards of the Coast.\n\n\nThe Bank of America Report\n\n\n\n\n\nHaving caught wind of the animosity surrounding the 30th Anniversary product, Bank of America released a research report in which they double-downgraded Hasbro from “Buy” to “Underperform.” The analysts accused Hasbro of “killing their golden goose” by increasing the rate of product releases, driving up short-term revenue at the expenses of the overall health and long-term value of the brand.\nThe report noted that Magic was responsible for 15% of Hasbro’s revenue and 35% of their EBITDA, or their earnings before interest, taxes, depreciation and amortization, which is used for evaluating a company’s ability to generate cash. This report dropped Hasbro’s stock a comparatively modest 6%, but sent shock-waves throughout financial news outlets, leading Hasbro to soon after hold a “fireside chat” in attempts to quell investor’s growing concerns. Chris Cox, the CEO of Hasbro, along with Wizards president Cynthia Williams, assured investors they saw no evidence of overprinting cards and believed in a bright future for both Hasbro and Magic the Gathering.\nAt the time of the report’s publishing, however, seven of the eight most recent Magic releases had dropped in value on the secondary market. Stores and distributors were cited as growing increasingly frustrated, ordering less new product and selling older products for a loss to clear their books. Fans found themselves overwhelmed trying to keep up with all of the new products, both mentally and financially.\n\n\n\n\nDraftSetCollector\n\n\n\n\n\n\n\n\nDraft Booster Boxes are offered as the primary way to play the “limited” format of Magic the Gathering, in which players take turns selecting cards from booster packs, build decks from their drafted card pool, and then play against each other with the decks constructed from the contents of a single box.\n\n\n\n\n\n\n\n\nSet Booster Boxes are offered as the primary way to collect cards from a particular release cycle and “open booster packs for fun.” Often priced between Draft and Collector boxes, they typically include higher chances at rarer or more valuable cards than a Draft box, but don’t contain the same number of premium cards as the Collectors.\n\n\n\n\n\n\n\n\nAdvertised as the “shortcut to the coolest cards,’ Collector Booster Boxes are the premium product for each set release. These boxes are designed for Magic players and collectors who desire variations of cards that feature alternative art, enhanced treatments such as foiling, or styles only found here.\n\n\n\nWith these trends in mind, it is worth noting that it is not strictly the declining value of these sealed products that are cause for concern, nor are they inherently bad. Some deflation in sealed products is to be expected as new products become the exciting opportunity for novel cards or mechanics. But for many of these products that are still in print, prices typically settle within an expected range and then steadily rise once they are no longer in print and supply becomes more constrained. For the products released in 2022, several fall below this expected threshold for many consecutive weeks.\nIn an article discussing the 11% price increase introduced in 2022 by Hasbro, TCGPlayer notes that draft boxes, for instance, typically went for between $90-100 before the price increase and were expected to hover closer to $110 on average, with an absolute floor of $90. As depicted above, besides the premium Double Masters (2X2) draft box, only one draft box, Brother’s War (BRO), the most recent release, is selling for more than $100. Only Kamigawa: Neon Dynasty (NEO) is selling comfortably above $90, and it was released prior to the price increase. Dominaria United (DMU), the first draft box impacted by the price hike, hovers in the mid 80s for most of the time its available. We see similar trends in the Set and Collectors boxes as well, with only a few exceptions. Thus, it is not merely the expected decline in value that should potentially have investors worried, but it is the sustained drop of market value below the expected floors, even after a price increase, which suggest a more pressing and lingering issue.\nWe next turn to the underlying problems cited by the bombastic Bank of America article - the overprinting of Magic cards and the growing frustration among Magic the Gathering players as a result. While the Bank of America report brought these issues to the forefront, they were hardly the canary in the coalmine. The frustration among Magic players had been swelling for years and grew particularly vocal in 2022. We next examine how the conversation around Magic the Gathering changed over the course of the year and how investors keyed in on Hasbro’s customers might have seen the Bank of America report coming before the rest of the market.\n\n\nMagic the Gathering Product Releases\nAs the Bank of America report amplified, an increasingly common complaint among dedicated Magic the Gathering players has been the deluge of new products released in the last several years. In this graphic, each symbol represents an individual Magic release, some of which can contain up to 300 or more individual cards. Even from a glance, it becomes clear how since 2020, the volume of products has skyrocketed across every category of release.\n\n\n\n\nThis increase of production includes both new card designs and reprints of existing cards. New designs create excitement and new ways of playing Magic, but also add to the overall complexity of the game, already considered to be the most complex game of all time. Reprints can also be enticing for players, particularly if desired cards are rare or old and thus demand a high price on the secondary market, but these new variations can have adverse effects on the card’s value if overdone.\nIt is not only the volume of products, but as alluded to on the Data Sources page, it is also the ever-expanding contents of the products as well. In the last several years, Wizards of the Coast has dramatically expanded the variations of cards presented in each product. Whereas in years past cards would be available in either a non-foil or foil treatment, now many sets come with borderless versions with extended art or set-specific treatments. In a recent and particularly egregious example, the first standard set release of 2023, Phyrexia: All Will Be One, featured a single card with ten different visual styles.\n\nBetween the above data visualization and this example from only a few weeks ago, it is clear this trend is not slowing down in the immediate future.\n\n\nConclusion\nThe results of Wizard’s aggressive release and the falling value of sealed products has led to the sentiment that Magic the Gathering is simultaneously too expensive and too cheap.\nFor players, keeping up with the hobby has become increasingly cost prohibitive, both in the cost of buying products and the mental demand of keeping up to date with new designs. On the other hand, collectors perceive the unrelenting reprinting of old cards and the overprinting of new cards as eroding the value of their collections and threatening the secondary market’s stability. Of course, many players are somewhere in between these two extremes along a spectrum, wanting the game’s components to be affordable, while also maintaining their value in the secondary market.\nThis tension and dichotomy has seemingly had a negative effect on Magic the Gathering products in the secondary market. In the Exploratory Data Analysis process, we take a closer look at Hasbro’s stock with these trends in mind."
  },
  {
    "objectID": "dv.html",
    "href": "dv.html",
    "title": "Data Vizes in TS",
    "section": "",
    "text": "Data Visualization with Stock Data\nIn this example, we consider the daily stock prices for Facebook (now META) and Twitter starting in early 2021. Both social media companies have experienced tumultuous years for reasons related to their leadership and vision. Below we compare their stock performance over the last two years in more detail.\n\n\n\n\nMeta and Twitter Stock Prices, Visualization\n\n\n\n\n\nThe most striking observation from this plot is the steep and sudden decline of META’s stock price in early 2022. This trend was predominantly a response by investors to Facebook’s admission to playing catch up with TikTok and struggling to develop workarounds for serving ads following Apple’s iOS privacy updates. META’s financial performance further deteriorated following the revelations regarding the massive amount of resources allocated towards research and propping up the metaverse to little consumer excitement or internal use. The fact that Meta was at one point worth twice as much as Twitter only for the two to eventually flip positions enforces the lack of confidence in Facebook’s parent company.\nLikewise, Twitter’s financial performance has not been stellar either. The acquisition and subsequent takeover of the company by Elon Musk created no shortage of controversial headlines, dramatic policy changes, and a series of layoffs across the company. We can observe the responses to these developments in more detail through the interactive visualization below.\n\n\nMeta and Twitter Stock Prices, Interactive Visualization\n\n\n\n\n\n\nThe interactive tool-tips further highlight the struggles these companies have faced. In early February 2022, META dropped by 26%, its worst day in the market to date. Over the course of early 2022, Twitter experienced similar, but more gradual, losses, sliding from almost $200/share to $119/share before it’s gradual ascent. Of course, these graphs only depict two years of data, most of which were heavily impacted by a number of extraneous factors including the COVID-19 pandemic and global inflation, but these trends are still worth exploring to see how the respective management and vision for these companies has shaped their financial outlook.\n\n\n\nData Visualization with Cryptocurrency Data\n\nEthereum Value\nSimilar to traditional stock prices, we can also examine the value of various cryptocurrencies in a similar manner. Here we consider Ethereum, the second most popular option behind Bitcoin.\n\n\n\n\n\nEthereum Value, Visualization\n\n\n\n\n\nFrom the initial line plot, we observe the substantial collapse of cryptocurrencies, Ethereum included. While activity and confidence rose to new all-time highs in the fourth quarter of 2021, the value dropped starkly over the course of the following year, finding a floor near $1000 in the summer before recovering slightly.\n\n\nEthereum Value, Interactive Visualization\n\n\n\n\n\n\nUsing the interactive tool-tip, we can observe in finer detail the tumultuous slide in value that took place over the last fifteen months. In November 2021, Ethereum hit an all-time high of $4812, but had fallen to $993 by June 2022. In the last two quarters, the cryptocurrency has gone on several runs, even doubling in value from the low in June to August 2022. These gains have not remained steady, however, with each subsequent rise in value showing less favorable momentum.\nIf we examine only the last thirty days in a candlestick plot, however, we see perhaps a more cautiously optimistic picture, particularly for short-term investors.\n\n\n\n\n\n\nSince the start of the year, ETH-USD has only closed down four days and has risen in value by 25%. These positive interpretations must of course be dampened when placed in the broader context described above, but this representation highlights the volatility and opportunity for investors who bet on cryptocurrencies, which tend to be more volatile in both the gains and losses than traditional investment instruments.\n\n\n\nClimate Data\nTime series are also frequently used in analyzing weather and climate data given the inherent seasonality and drastic changes that can be observed over time. In this example, we look at temperature recordings from the National Arboretum in Washington D.C. across most of 2021.\n\n\n\n\n\n\n\n\n\nThe first trend that jumps out from the visualization is the expected seasonality in which temperatures generally rise through spring and summer and taper off through fall into winter. The observed temperatures, those recorded at the National Arboretum itself, seem to trend towards the low end of the daily temperature spectrum. This pattern could be due to observations being recorded earlier in the morning when temperatures tend to be lower or perhaps the National Arboretum’s location lends itself to cooler temperatures relative to the rest of the district. Finally, we note variety in the range of the lows and highs themselves, sometimes being only four or five degrees apart and on other days having a range of more than twenty degrees."
  },
  {
    "objectID": "about-author.html",
    "href": "about-author.html",
    "title": "ANLY560 - Phil Cork",
    "section": "",
    "text": "Hi, I’m Phil.\nI recently started working as a Data Scientist at the Environmental Policy Innovation Center. My current projects include transforming state reports on drinking water into an easily accessible database, improving our understanding of where communities get their water, and other means of making access to clean drinking water more equitable.\nAs a Data Science in Public Policy graduate student, I am both deepening my technical data science skills and applying these techniques to solve challenging and meaningful problems. In my Research Assistant role at Georgetown, I worked to identify racial disparity in drug arrests and improve arrest and prosecution practices through data analysis and machine learning. Other projects leveraged geospatial data to highlight communities inadequately served by water utility providers to help direct funding where it is most needed.\nAs a Data Analyst for Old Whaling Company, I optimize internal processes through automation and provide resources for data-driven decisions. Previously, I was a Data Modeler at the College of Charleston’s Office of Enrollment Information, where I used predictive modeling to help identify students at risk of losing their scholarship eligibility.\nWhen I’m not on the job, you’ll find me planning my Dungeons & Dragons campaign, celebrating (and commiserating over) the New Orleans Saints, playing Destiny 2, or exploring the neighborhood with my wife and our senior rescue pups."
  },
  {
    "objectID": "exploratory-data-analysis.html#hasbro-stock-price",
    "href": "exploratory-data-analysis.html#hasbro-stock-price",
    "title": "Exploratory Data Analysis",
    "section": "Hasbro Stock Price",
    "text": "Hasbro Stock Price\nTo understand how Magic’s secondary market might influence Hasbro’s stock value, it is helpful to first consider how the stock’s price has changed over the last few years and some of the internal and extraneous factors that have affected the company.\n\n\n\n\n\nAt the onset, it can be helpful to evaluate how the stock has performed over the last several years. In 2019, Hasbro’s stock rose sharply, growing by 50% from ~$80 in the first quarter to ~$120 in the third before correcting back to ~$100, where it hovered until March 2020 and the lockdown protocols in the early stages of the COVID-19 pandemic. Though Hasbro quickly recovered from the initial collapse to ~$40, it took the rest of 2020 to return to pre-pandemic prices. The stock was comparatively static throughout 2021, hovering between $90 and $100 with its largest dip and subsequent rise in the third quarter. 2022, however, proved to be a much more tumultuous year for Hasbro and its subsidiaries.\nWith this summary in mind, we take a closer look at the Hasbro stock data and transform it into a more useful format so we can use it later on for modeling and forecasting.\n\nLag Plots\nAs a first step in our analysis, we examine how correlation between one day’s stock price and another influences the trend of the data series. To better understand the correlation and seasonality that may be present in the stock data, we consider a subset of lagged timeframes.\n\n\n\n\n\nIn this plot, each lag represents how well one day’s stock price correlates with the stock price a number of days later. Over the next two weeks, the trend remains roughly linear and correlated. This pattern deteriorates further with each subsequent day. This distortion is to be expected, as many extraneous factors impact the stock. Thus, a given day’s price has less and less influence on a future price. To further test this observation, we also plot lags that are a week apart over the next ten weeks.\n\n\n\n\n\n\nAgain, the further the lag moves from the original value, the less correlation exists. By week six, the data points look more like a blob of random points than the linear, positive correlation of the previous plot. This pattern also suggests a lack of seasonality in the series as well. We explore this observation in more detail by decomposing the series into its additive components.\n\n\nDecomposition\nWe decompose the stock price data to see how the overall trend, seasonality, and random noise uniquely impact the value over time. We observe that Hasbro stock data is additive and deconstruct it using the appropriate parameter, because there is not a change in magnitude of seasonal variance as the trend moves or changes over time.\n\n\n\n\n\nThe trend is the strongest component in the decomposition. The plot depicts a sense of seasonality with the uniform oscillating waves, but the range of the y-axis only goes from -10 to 10, implying the impact of this pattern is less influential on the stock’s overall performance, particularly when compared to the randomness shown in the residuals, which swings $15 in either direction.\nIt is also worth noting the market-wide collapse during COVID-19 lock-down protocols seems to have a strong influence on the seasonal component of the model. The model builds in a larger-than-realistic dip into subsequent repetitions of the seasonal pattern as a result. To compensate, it also includes larger spikes in the residual values to compensate to match the original data and fit the decomposed trend.\nCollectively, these observations present a logical set of observations. The long-term trends, both positive and negative, are responsible for the largest component of Hasbro’s stock price movement. Seasonality, in its raw component, has a smaller bearing that likely mirrors the cyclical rise and fall of the market as a whole. The residuals, which account for everything else, can be seen as a sort of “momentum” of the trend’s movements where the intensity of investor confidence or doubt can drive the stock’s price to more extreme values than only the trend or the seasonality would suggest.\n\n\nAutocorrelation\nIn addition to understanding how the time series can be split into its various components, it’s important to understand the autocorrelation in the series. Autocorrelation is simply how much values within the time series are correlated with each other. Autocorrelation is common in time series data because the values have an inherent order and are often similar to one another when they are in close proximity. This premise holds true with our stock data, where one day’s closing price is often, but not always, fairly close to the previous and next day’s closing price. Hence these values would be highly correlated with one another. To examine the extent of autocorrelation, we consider the ACF plot and then use a Partial ACF plot to better understand the source of the correlations, as described below.\n\n\n\n\n\nThe ACF plot makes it clear there is a great deal of autocorrelation, confirming that the stock value is correlated with itself over time. The positive values show the lags, or future stock prices, are positively correlated with one another - as one increases or decreases, so do the subsequent day’s value, more often than not. This relationship between data points tapers off, however, where a stock price from several days ago has less influence on a future day’s closing price. Even so, the fact that the ACF values are all far above the blue dotted lines, which represent a 95% confidence interval, tells us these results are statistically significant and we can be fairly certain this isn’t just by chance.\nThe partial autocorrelation (PACF) plot also describes the autocorrelation, but in a slightly different way. The PACF measures the correlation between the residuals - or randomness in the data - with the next lag in the data. We see that the residuals of the lags after the first one are not statistically significant. This plot suggests that the correlation between one stock price and a future stock price isn’t due to the residuals, but rather comes from another component. In this case, the source is likely the overall trend of the stock prices, as suggested above.\n\n\nStationarity\nThese first three tasks have helped us better understand the data. They have also given us clues as to whether the data is stationary, a prerequisite for more in-depth statistical analysis. For a time series to be stationary, it needs to have a consistent mean and variance, meaning it centers around a consistent value and the changes over time aren’t more extreme during one period than another.\nFrom our observations so far, we’ve noted a clear trend over time, a lack of seasonality, and a strong positive correlation between daily stock prices. This interpretation suggests the Hasbro stock price data is not stationary, as it’s average value changes based on company performance and the variance in some years is much higher than others. This intuition is confirmed by a statistical check, the Augmented Dickey-Fuller test.\n\nResults of the Augmented Dickey-Fuller Test\n\n\n\nDickey-Fuller\n-2.25\n\n\nLag order\n10\n\n\np-value\n0.4719\n\n\nAlternative hypothesis\nStationary\n\n\n\n\n\n\nWith a p-value of 0.4, our results are not statistically significant. We lack sufficient evidence to reject the notion that the data is non-stationary.\nOur next task, then, is to transform the data into a stationary format.\n\n\n\n\nDifferencing\nBecause the above dataset in its current form is not stationary, we use additional data transformations to make it more suitable for modeling. We difference our data, which transforms the time series into the change between each consecutive data point. Mathematically, this process is similar to a derivative, which calculates the rate of change of an equation. The first-order differencing helps reduce a trend if the underlying trend is linear, which is the case for our financial time series.\n\n\n\n\n\nIn this case, the plot of the first-order difference shows us the daily change in the adjusted closing price of Hasbro stock from one day to another. We can verify the underlying math with a quick look at the most dramatic changes in price and compare it to the plot of the raw data above. We see the spikes and dips in the first order difference line up perfectly with dramatic shifts in the stock price, whether it was the phenomena of the COVID-19 pandemic in March 2020 or growth and subsequent correction in 2019.\nWe then reconsider the ACF plot, this time comparing the autocorrelation of the original data with the new first-order difference series.\n\n\n\n\n\nThe final results highlight the power of the differencing transformation. Whereas the autocorrelation of the original data is consistently present and highly varied, the ACF plot of our first-order difference data is much more in line with the requirements for a stationary series. While a small handful of the points go above our confidence interval threshold, it is clear this is a step in the right direction.\n\n\nMoving Average\n\n\n\n\n                            \n                                            \n\n\n\n\n                            \n                                            \n\n\nIn closing, we return to the prior candlestick plot of Hasbro’s stock performance, this time focussing on only 2022 and early 2023. In adding a series of moving average lines, we can see both the trends based on different time horizons and indicators of noteworthy changes. The first moving average is a five-day window, which tracks quite closely with the individual candlesticks for each day’s closing price. The second moving average is the 20-day average, which captures a month’s worth of trading days. In comparing this slower trend, we can see points of overlap that may indicate shifts in the stock’s trajectory. A simple example of this event is on January 19th, where the MA5 crosses under the MA20, meaning the more recent trend is moving downward and in the subsequent trading days, the stock drops notably before reversing and the MA5 crosses over the MA20 a month later on Februrary 14th.\n\nThis process of tracking the crossings of various moving average lines is a popular trading strategy within technical analysis for predicting stock movements. One shortcoming of this procedure, however, is that it can be slow to move as the directions of the stock price shift. We see an example of this concern when introducing the MA50. For much of the year, the MA50 serves as a resistance for the MA5 where the MA5 approaches the MA50, but drops off before crossing. When it does cross, it is often for short stints and not particularly dramatic changes. In late April, for instance, Hasbro’s MA5 crossed the MA50 around $85 before rising to $89 and then dipping back towards $80. If an investor had purchased stock when the cross-over took place, they would have already missed most of the gains, given that the stock’s direction had changed two weeks earlier when it bottomed out at $80 the first time that year. A similar pattern plays out in January 2023 when the MA50 and MA5 cross-over event does predate further positive momentum, but only happens halfway through the upward movement as a whole.\n\nFinally, we introduce the MA200. If nothing else, it serves as a clear indicator of the negative trendline identified during the decomposition process. The MA200 only intersects one other moving average the entire year when it crosses over the MA50 on March 17, 2022. Considering the time horizon of these two pieces, it should not be particularly surprising how the rest of the year played out. On this date, the MA50 and MA200 were roughly $91, while the stocked closed at $84. While the stock would close above $84 in brief positive drives throughout the year, it never again approached the MA200 and largely saw the MA50 as a resistance, as noted above.\n\nCombined, these four moving average lines provide a clear picture of the challenges Hasbro faced throughout 2022 as well as both the potential and shortfalls of the moving average technical analysis strategy. Further analysis will consider how modeling and forecasting might improve upon these techniques.\n\n\nConclusion\nWe first explored our data by looking at how Hasbro’s stock value has changed over the last several years. We then used lag, decomposition, and autocorrelation techniques to better understand the underlying data. When we determined the data was not stationary, we used differencing to center the data around a consistent mean and mitigate the variance. We then considered how moving average analysis might provide further insights into Hasbro’s stock performance. The result is a stationary series that represents the daily change in Hasbro’s stock price and is ready to be used in statistical analysis to potentially outperform the moving average technique."
  },
  {
    "objectID": "arimax.html",
    "href": "arimax.html",
    "title": "ARMA/ARIMA/SARIMA Models",
    "section": "",
    "text": "In the first attempt to model Hasbro’s stock price, we found that using only past prices to forecast future values proved to be difficult. The optimal model only barely outperformed a simple benchmark method. This reality is unsurprising. Hasbro is large corporation in a dynamic trading environment built on imperfect knowledge and imperfect markets. To further improve the model, we consider how additional features may improve the model and its predictive capabilities."
  },
  {
    "objectID": "arimax.html#can-magic-the-gathering-help-predict-hasbros-stock-price",
    "href": "arimax.html#can-magic-the-gathering-help-predict-hasbros-stock-price",
    "title": "ARMA/ARIMA/SARIMA Models",
    "section": "Can Magic the Gathering help predict Hasbro’s stock price?",
    "text": "Can Magic the Gathering help predict Hasbro’s stock price?\n\nAs described in this project’s introduction, Magic the Gathering is a valuable method for investigating Hasbro’s stock value because it has become an increasingly important part of their portfolio. It recently became Hasbro’s first $1 billion brand. While other subsidiaries report net losses, Wizards of the Coast, producer of Magic the Gathering as well as Dungeons and Dragons, has continued to report strong profits, driving much of Hasbro’s revenue.\nFurther, the secondary market for Magic the Gathering cards offers a unique way to potentially enhance the model’s predictive capability. Given that Magic is such an important part of Hasbro’s portfolio, it’s possible that Magic card prices could inform the stock’s price movement. For example, in quarters when popular Magic products are sold, those products are likely to maintain a higher price on the secondary market. Then, the resulting profit from these products being sold by Wizards of the Coast into the secondary market would be reported to Hasbro investors, potentially increasing the stock’s value.\nThis context sets the stage for selecting features and testing the central question - can Magic the Gathering predict Hasbro’s stock price?"
  },
  {
    "objectID": "arimax.html#selecting-magic-the-gathering-model-features",
    "href": "arimax.html#selecting-magic-the-gathering-model-features",
    "title": "ARMA/ARIMA/SARIMA Models",
    "section": "Selecting Magic the Gathering Model Features",
    "text": "Selecting Magic the Gathering Model Features\nGiven that there are more than 20,000 Magic cards released over the last thirty years, a vast majority of these data points would only introduce noise into the model. Thus, it is more helpful to consider the sealed products in which cards are purchased. See the data visualization page for more details on these products.\nWhen considering these products, it is unlikely that any products outside those currently being produced by Wizards of the Coast would impact Hasbro’s valuation. While print run data for Magic card is not publicly available, there is a general consensus that each standard set of Magic cards is in production for 12-18 months and are generally printed to demand. Exceptions to this rule include limited print run products such as Collector Booster Boxes and Remastered sets, which are only printed once or in a much more constrained quantity in multiple waves of printing.\nTo estimate how the Magic the Gathering secondary market could inform Hasbro’s stock price, we include the weekly prices for the sealed Magic products from 2021. This subset of products ensures that all were still in production and thus relevant to Hasbro’s financial performance.\nEven in working with sealed products, the volume of product releases in 2022 creates dozens of potential features, all of which enter the market at different times. To simplify the secondary market data further into a more equivalent comparison, all of the products are aggregated together by the product type and the average price value is taken for however many products are available to purchase in a given week."
  },
  {
    "objectID": "arimax.html#selecting-other-model-features",
    "href": "arimax.html#selecting-other-model-features",
    "title": "ARMA/ARIMA/SARIMA Models",
    "section": "Selecting Other Model Features",
    "text": "Selecting Other Model Features\nWe also include Hasbro’s trade volume to capture the amount of activity at a given price point. The data is also transformed from daily prices to average weekly price to match the frequency of the available Magic the Gathering product data. The average is chosen as the aggregation method because while there is volatility present in the stock price, there are not such huge changes on a daily basis as to create outliers that would warp the mean of the week’s adjusted stock prices.\n\n\n\nFinally, we include the S&P500 average price to capture the overall market’s trajectory as a potential extraneous explanation to Hasbro’s price. It is worth nothing that while Hasbro is in the S&P500, they are listed as the 487th inclusion by weight, so any potential information leakage is likely to be insignificant when the estimated coefficients for the S&P500’s price will be driven by much larger corporations and market forces.\n\n\n\nFinally, we compare our target - Hasbro’s weekly average stock price - with the Magic products and other features that will be added to the model. Because the prices vary in scale, all average prices are logged to decrease the influence of any one variable being due simply to the instrument’s valuation."
  },
  {
    "objectID": "arimax.html#arimax-model-fitting",
    "href": "arimax.html#arimax-model-fitting",
    "title": "ARMA/ARIMA/SARIMA Models",
    "section": "ARIMAX Model Fitting",
    "text": "ARIMAX Model Fitting\nAfter preparing the multivariate features, we use both the auto.arima function and a manual model selection process to determine the best parameters for modeling and forecasting Hasbro’s stock price.\nThe results of each model’s implementation and the step by step stages of the model selection process are included below.\n\n\n\n\nAutomatic ARIMA Model Selection\n\n\n\n\n\n\nARMA(1,1)\nEstimate\nStandard Error\n\n\n\n\nar1\n0.9743\n0.0276\n\n\nma1\n0.421\n0.158\n\n\ncollector\n-0.077\n0.094\n\n\ndraft\n0.0603\n0.0626\n\n\nset\n-.4006\n0.1546\n\n\ns&p500\n0.7981\n0.0901\n\n\nvolume\n-0.0204\n0.0089\n\n\n\nThe auto-generated model results in a ARMA(1,1) design. The model has an AIC of -191.99 and a BIC of -176.85. From comparing the estimates and standard errors, we can note that the ar1, ma1, set booster, s&p500, and volume variables are statistically significant.\nWe next implement a manual model selection process starting with a general linear regression and then introducing several ARIMA model options for capturing the residuals of the regression’s fit.\n\n\nManual ARIMA Model Selection\n\n\n\n\n\n\n\nEstimate\nStandard Error\nT Value\nP\n\n\n\n\n(Intercept)\n3.0551\n2.5889\n1.180\n0.2444\n\n\nCollector\n0.8785\n0.2162\n4.063\n0.0002 ***\n\n\nSet\n-0.2374\n0.3987\n-0.595\n0.5547\n\n\nDraft\n-0.1426\n0.1122\n-1.271\n0.2105\n\n\nS&P500\n0.0323\n0.3217\n0.101\n0.9203\n\n\nVolume\n-0.1379\n0.0322\n-4.276\n0.0001 ***\n\n\n\nInterestingly, when computing only the linear regression, the Collector Box products and Hasbro trade volume prove to be statistically significant. However, this model does not taking into account the endogenous auto-correlation present in the time series. To address this shortcoming, we model the residuals of the model using an ARIMA model.\n\n\n\n\nACFPACF\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nBased on the ACF and PACF plot of the linear regression’s residuals, it looks like only a few values are statistically significant, offering a subset of values to consider for implementing the ARIMAX model. From the PACF, 1 is the only statistically significant value, but 2 is nearly above the threshold, so it will be considered as well. In the ACF plot, the first three lags are statistically significant and will be options for the model’s parameters.\n\n\n\nTwo models stand out from these results. ARIMA(2,0,3) minimizes the AIC with a low BIC, while ARIMA(1,0,0) minimizes the BIC with a low AIC as well. With these two models and the auto-generated ARIMA(1,0,1) model, we continue with model diagnostics and evaluation through cross-validation."
  },
  {
    "objectID": "arimax.html#model-diagnostics",
    "href": "arimax.html#model-diagnostics",
    "title": "ARMA/ARIMA/SARIMA Models",
    "section": "Model Diagnostics",
    "text": "Model Diagnostics\n\nARIMA(2,0,3)ARIMA(1,0,0)ARIMA(1,0,1)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAll three models report very similar results, potentially pointing to the difficulty of the modeling task and noise inherent in the financial data we’re working with. A few smaller differences stand out - ARIMA(1,0,0) includes a point where the p-values in the Ljung-Box statistics plot is not above the statistically significant threshold. Only ARIMA(2,0,3) includes an ACF plot without any statistically significant lags, but even this is likely a minimal difference between it and the others.\nAs such, we are inclined to proceed with all three models for future consideration. Next we will use cross validation to further evaluate the models."
  },
  {
    "objectID": "arimax.html#model-cross-validation",
    "href": "arimax.html#model-cross-validation",
    "title": "ARMA/ARIMA/SARIMA Models",
    "section": "Model Cross Validation",
    "text": "Model Cross Validation\n\n\n\n\n\nConsidering the three models, we observe the most complicated model, ARIMA(2,0,3) has the highest RSME at each prediction point. The other two models have more similar RSME plots, with the auto-generated model, ARIMA(1,0,1) having a slightly higher RSME for the first horizon, but having a more gradual increase than the other model, ARIMA(1,1,0), which has the lowest RMSE for the first three horizons and is only slightly less accurate on the fourth horizon than the auto-generated model.\nWith these results, along with the previous model diagnostic steps, we proceed with the auto-generated ARIMA(1,0,1) model for forecasting with exogenous variables."
  },
  {
    "objectID": "arimax.html#fitting-the-chosen-model",
    "href": "arimax.html#fitting-the-chosen-model",
    "title": "ARMA/ARIMA/SARIMA Models",
    "section": "Fitting the Chosen Model",
    "text": "Fitting the Chosen Model\n\n\n\nAfter manually investigating models, we select the ARIMA(1,1) model for its simplicity, optimized AIC and BIC values, and smoother predictive performance over the forecasting horizon explored above.\nThe coefficients are slightly different from the original auto-arima model’s output due to the inclusion of the intercept in these results. The same variables remain statistically significant, however.\n\n\n\nARMA(1,1)\nEstimate\nStandard Error\n\n\n\n\nar1\n0.9678\n0.0327\n\n\nma1\n0.4623\n0.1448\n\n\nintercept\n-1.8063\n1.4555\n\n\ncollector\n-0.409\n0.0970\n\n\ndraft\n0.0614\n0.0619\n\n\nset\n-0.3768\n0.1521\n\n\ns&p500\n0.9754\n0.1638\n\n\nvolume\n-0.0200\n0.0086\n\n\n\nIn general, a ARIMAX model with five exogenous variables and an ARMA(1,1) structure would take the form:\n\\(y_t = \\beta_1x_{1t} + \\beta_2x_{2t} + \\beta_3x_{3t} + \\beta_4x_{4t} + \\beta_5x_{5t} + \\phi_1y_{t-1} - \\theta_1z_{t-1} + z_t\\)\nIn this fitted model, this equation would be:\n\\(y_t = -0.409collector_t + 0.0614draft_t -0.3768set_t + 0.9754sp500_t - 0.02volume_t + 0.9678y_{t-1} - 0.4623z_{t-1} - 1.8063\\)"
  },
  {
    "objectID": "arimax.html#forecasting-hasbros-stock-price",
    "href": "arimax.html#forecasting-hasbros-stock-price",
    "title": "ARMA/ARIMA/SARIMA Models",
    "section": "Forecasting Hasbro’s Stock Price",
    "text": "Forecasting Hasbro’s Stock Price\n\n\n\n\n\n\n\n\nUltimately, the model’s forecast appears slightly optimistic for Hasbro’s stock with a gradual upward trajectory. The width of the confidence bounds highlight the uncertainty of these predictions in which Hasbro’s price could continue falling to lows not seen in years or could bounce back and recover the lost value from the last fifteen weeks, or anything in between. While these results improve upon the default ARIMA model used in our uni-variate analysis, the model remains limited in its usability.\nAs another observation from the model, it is interesting to note the statistically significant variables. Within the final ARIMAX model, the coefficient for the logged weekly average price of Set boosters boxes, the logged weekly average price of the S&P500, and the logged average weekly trade volume of Hasbro were all statistically significant Of course, because of the auto-correlated lag variables included in the model, these can not be interpreted as directly as in their OLS counterpart, but their presence is helpful in identifying potential sources of predictive power.\nThe resulting forecast and significant variables indicate the market’s broad forces and the activity surrounding Hasbro’s stock may be more powerful in forecasting than the secondary market data. This is unsurprising, but it is encouraging to see one variable representing Magic the Gathering as statistically significant as well.\nFinally, it’s worth remembering that there are no shortage of other variables within the error term of the model. These missing features likely introduce endogeneity to the model. Examples of these spurious variables include the unknown volume of Magic the Gathering products sold in a given week, other economic indicators such as treasury yields or inflation rates, the sentiment of investors over time, and other related stock prices, such as rival toy company, Mattel."
  },
  {
    "objectID": "arimax.html#conclusion",
    "href": "arimax.html#conclusion",
    "title": "ARMA/ARIMA/SARIMA Models",
    "section": "Conclusion",
    "text": "Conclusion\nIn this exercise, we have justified the use of Magic the Gathering secondary market data in multivariate analysis for predicting Hasbro’s stock based on it’s importance to Hasbro’s overall revenue and profitability. We evaluated a number of ARIMA models, both auto-generated and manually identified. We conducted model diagnostics and cross-validation to select a best-fit model. We then used this model along with the identified exogenous variables to forecast Hasbro’s future stock prices. The results improved upon simpler processes, but can be further improved. In future steps, we will analyze and model Hasbro’s volatility with ARCH models to better capture the stock’s performance."
  },
  {
    "objectID": "deep-learning.html#neural-networks",
    "href": "deep-learning.html#neural-networks",
    "title": "Deep Learning",
    "section": "Neural Networks",
    "text": "Neural Networks\nWe consider three neutral networks designs. In each case, the models are built with and without L2 regularization to evaluate the reguarization’s impact on overfitting and the error term. In each case, we set our partition to predict five days out to represent a week’s worth of trading days.\n\n\n\nRecurrent Neural Network\nThe first is a Recurrent Neural Network (RNN), a vanilla neural net implementation with three hidden layers, one dense layer, and a hyperbolic tangent activation function.\n\nRNNRNN w/ L2 Regularization\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFrom plotting the loss function over the coursre of each epoch, we see clearly the benefit of using regularization with the RNN model. The first graph shows a sharper descent in the loss term, but also depicts the model overfitting to the training data.\n\n\n\n\n\nModel\nTrain RSME\nTest RSME\n\n\n\n\nRNN\n0.03303\n0.03158\n\n\nRNN w/ L2\n0.02831\n0.02568\n\n\n\nThe regularized implementation of the Recurrent Neural Network also performs better on both the training and testing data.\n\n\n\n\nGated Recurrent Unit\nWe then construct a Gated Recurrent Unit (GRU) neural network. To fight overfitting, this model includes a recurrent dropout mask which helps sever correlation between training data and the layer of the neural network that its exposed to. GRUs are noted as working well with small data. With only 1,000 observations across the train and test data, this could prove to be effective for the task at hand.\n\n\n\nGRUGRU w/ L2 Regularization\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSimilarly, with the GRU model, we denote that the regularized model starts with a higher term, but eventually and more gradually converged to a similar results.\n\n\n\n\n\nModel\nTrain RSME\nTest RSME\n\n\n\n\nGRU\n0.02908\n0.02713\n\n\nGRU w/ L2\n0.02871\n0.02954\n\n\n\nUnlike with the Recurrent Neutral Network, we do not see as dramatic a difference between the default model and the regularized iteration. Instead, the models have very similar error terms, with the default GRU slightly out performing on both the train and test data. These results are largely in line with the regularized RNN model.\n\n\n\n\nLong Short Term Memory\nFinally, we build a Long Short Term Memory (LSTM) neural network. While LSTM models are most often used with text data, they can work broadly with any sequential data series and so it applies well to our daily stock price task.\n\n\n\nLTSMLTSM w/ L2 Regularization\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nIn contrast to the previous iterations, we note for both models higher initial error terms and the more gradual convergences over the course of the training epochs.\n\n\n\n\n\nModel\nTrain RSME\nTest RSME\n\n\n\n\nLTSM\n0.03884\n0.02855\n\n\nLTSM w/ L2\n0.03851\n0.03263\n\n\n\nThe performance terms bear out the expected results from the plots. With higher train and test RSME values than the RNN or GRU alternatives, its possible these models underfit the data and thus are not the most representative option.\n\n\n\n\nSelecting a Neutral Network Model\nHaving explored three difference architectures and their regularized counterparts, we select the regularized Recurrent Neural Network as it features the optimized RMSE and does not appear to neither overfit nor underfit the training data as much as other options.\nWe can then plot the actual and predicted values to discover where the model performs well and where it struggles to model Hasbro’s stock price.\n In this plot, the green line depicts the predicted values for each daily Hasbro stock price. Surprisingly, the model follows and captures the COVID-19 pandemic effect rather well. The one area where it falls off in performance is the all-time highs reached in late 2019, where the model under-estimates the stock price for a few weeks in a row. Outside of this one area, the model performs well, despite the extensive degree of noise in the dataset."
  },
  {
    "objectID": "deep-learning.html#comparing-neutral-network-models",
    "href": "deep-learning.html#comparing-neutral-network-models",
    "title": "Deep Learning",
    "section": "Comparing Neutral Network Models",
    "text": "Comparing Neutral Network Models"
  },
  {
    "objectID": "deep-learning.html#conclusion",
    "href": "deep-learning.html#conclusion",
    "title": "Deep Learning",
    "section": "Conclusion",
    "text": "Conclusion\nDoes the added complexity of the neutral network sufficiently improve its predictive capabilities over the ARMA model? The selected ARMA model, which narrowly beat out a more naive benchmark, had a RSME of 1.8. As such, any of these neural networks offer impressive improvements in predicting Hasbro’s stock price, particularly when considered that it is predicting further into the future than the ARMA model as well. Comparing this model to the ARIMA model is not quite an equivalent comparison because the ARIMA is limited to a weekly time series, but it also featured a similar RMSE of 0.027.\nBecause inference and interpretation are less crucial than precise forecasting in this instance, the neural network is the clearly superior model compared to the ARMA iteration. However, the ARIMAX model performing similarly while also working with less granular data suggests that were the data constraints of using Magic: the Gathering products as a model feature could be overcome, it could prove to be a more powerful model than deploying a neutral network with only past stock prices as means to predict future values."
  }
]